{%extends 'all-news/base.html'%}
{% block content %}
{{ block.super}}

<div class="container-fluid">

  <!-- Looping through images   -->
  <div class="row">
    {% for photo in photos %}
    <div class="col-md-3">
      <h5 id="imageTitle" style="text-align: center;">{{photo.name}}</h5>
      <img style="margin-bottom: 30px; width:1000px; height:300px;" src="{{photo.image.url}}"
        class="img-thumbnail photo img-responsive" alt="Image" data-toggle="modal" data-target="#{{photo.id}}">

      <!-- Image Details modal -->
      <div class="modal fade" id="{{photo.id}}" tabindex="-1" role="dialog" aria-labelledby="imageTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-name" id="imageTitle">{{photo.name}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                  aria-hidden="true">&times;</span></button> <br>

              <!-- </button> -->
            </div>
            <div class="modal-body">
              <img src="{{photo.image.url}}" style="width:400px; height:400px; margin-left: 30px;" alt="Image"
                class="img-thumbnail photo img-responsive">
              <br> <br>
              <p>Image Description : {{photo.description}}</p>
              <p> Image Location:{{photo.location}}</p>
              <p> Image category: {{photo.category}}<p>
                  <button class="rounded btn-primary" onclick="copyLink('{{image.id}}-url')">Copy Link</button>
                  <input class="form-control input-lg" type="text" value="http://127.0.0.1:8000{{photo.image.url}}"
                    id="{{image.id}}-url">

                  <!-- Script for copying images link -->
                  <script>
                    function copyLink(imageid) {
                      console.log("copied");
                      var copyText = document.getElementById(imageid);
                      copyText.select();
                      document.execCommand("copy");
                      alert("Link copied to clipboard: " + copyText.value);
                    }
                  </script>

            </div>

          </div>
        </div>
      </div>

    </div>

    {% endfor %}
  </div>
</div>

{% endblock %}